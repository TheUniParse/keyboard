@use 'utilities' as *;
@use 'sass:color';
@mixin nth($indexes...) {
  @each $i in $indexes {
    &:nth-child(#{$i}) {
      @content;
    }
  }
}
@mixin radial($c) {
  background: $c radial-gradient(
    color.adjust($c, $lightness: 30%),
    $c 70%
  );
  @content;
}
$pincky: hsl(199, 68%, 24%);
$ring: hsl(330, 88%, 23%);
$middle: hsl(147, 93%, 16%);
$indexL: hsl(281, 51%, 24%);
$indexR: hsl(252, 61%, 25%);
$lAlt: darkorange;
$rAlt: hsl(80, 100%, 50%);
div#keyboardCtx {
  overflow: auto;
}
div#keyboard {
  background-color: #333;
  min-width: clamp(47rem, 100%, 58.5rem);
  overflow: auto;
  display: flex;
  place-content: space-evenly;
  flex-flow: row wrap;
  // border: red thin solid;
  font: clamp(1rem, 1.5vw, 1.25rem) monospace;
  ::selection {
    background-color: transparent;
    color: yellow;
  }
  span {
    flex: none;
    flex-basis: 6%;
    display: grid;
    grid: 1fr 1fr/ 1fr 1fr;
    border: black thin solid;
    border-radius: 0.3em;
    color: white;
    background-image: radial-gradient(
      transparent 20%, rgba(0, 0, 0, 0.562)
    );
    @include space(0, 0.3%);
    &:nth-child(14) {
      flex-basis: 12.5%;
    }
    &:nth-child(57) {
      color: $lAlt;
    }
    &:nth-child(59) {
      color: $rAlt;
    }
    &:nth-child(15),
    &:nth-child(28) {
      flex-basis: 9.2%;
    }
    &:nth-child(29) {
      flex-basis: 11%;
    }
    &:nth-child(41) {
      //flex-basis: 13.8%;//13.8 6
      margin-right: 7.8%;
    }
    &:nth-child(42) {
      flex-basis: 7.2%;
    }
    &:nth-child(54) {
      flex-basis: 17%;
    }
    @include nth(55, 56, 57, 59, 60, 61, 62) {
      flex-basis: 7.4%;
    }
    &:nth-child(58) {
      flex-basis: 41%; //space
    }
    @include nth(1, 2, 13,14, 16, 26, 27, 30, 40, 41) {
      background-color: $pincky;
    }
    @include nth(3, 12, 17, 25, 31, 39, 44, 53) {
      background-color: $ring;
    }
    &:nth-child(4) {
      background: linear-gradient(90deg, $ring, $middle);
    }
    @include nth(5, 10, 18, 24, 32, 38, 45, 52) {
      background-color: $middle;
    }
    &:nth-child(11) {
      background: linear-gradient(90deg, $middle,$ring);
    }
    @include nth(6, 7, 19, 20, 33, 34, 46, 47, 48) {
      background-color: $indexL;
    }
    @include nth(8, 9, 22, 23, 36, 37, 49, 50, 51) {
      background-color: $indexR;
    }
    @include nth(21, 35) {
      background: linear-gradient(90deg, $indexL 35%, $indexR);
    }
    @include nth(30, 31, 32, 33, 37, 38, 39, 40, 46, 51) {
      border: solid thin black;
      box-shadow: 0 0 10px black;
    }
    @include nth(30, 40) {
      @include radial($pincky)
    }
    @include nth(31, 39) {
    @include radial($ring)
    }
    @include nth(32, 38) {
    @include radial($middle)
    }
    @include nth(33, 46) {
    @include radial($indexL)
    }
    @include nth(37, 51) {
    @include radial($indexR)
    }

    kbd {
      padding: 0.2em;
      &.lAlt {
        color: $lAlt;
      }
      &.rAlt {
        color: $rAlt;
      }
    }
  }
}
